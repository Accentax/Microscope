{"version":3,"file":"/packages/errors:tests.js","sources":["errors/errors_tests.js"],"names":[],"mappings":";;;;;;;;AAAA,wD;AACA,oD;AACA,E;AACA,+B;AACA,oD;AACA,E;AACA,+B;AACA,G;;AAEA,mE;AACA,+B;AACA,+D;AACA,E;AACA,wB;AACA,uC;AACA,mC;AACA,M;AACA,E;AACA,4B;AACA,gC;AACA,iE;AACA,sD;AACA,mB;AACA,I;AACA,gE;AACA,W;AACA,U;AACA,G","sourcesContent":["Tinytest.add(\"Errors collection works\", function(test) {\n  test.equal(Errors.collection.find({}).count(), 0);\n  \n  Errors.throw('A new error!');\n  test.equal(Errors.collection.find({}).count(), 1);\n  \n  Errors.collection.remove({});\n});\n\nTinytest.addAsync(\"Errors template works\", function(test, done) {  \n  Errors.throw('A new error!');\n  test.equal(Errors.collection.find({seen: false}).count(), 1);\n  \n  // render the template\n  OnscreenDiv(Spark.render(function() {\n    return Template.meteorErrors();\n  }));\n  \n  // wait a few milliseconds\n  Meteor.setTimeout(function() {\n    test.equal(Errors.collection.find({seen: false}).count(), 0);\n    test.equal(Errors.collection.find({}).count(), 1);\n    Errors.clear();\n    \n    test.equal(Errors.collection.find({seen: true}).count(), 0);\n    done();\n  }, 500);\n});\n"]}